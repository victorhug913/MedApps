<html>
    <head>
        <title>MedUso</title>
        <script type="text/javascript" src="ckeditor/ckeditor.js"></script>
        <script type="text/javascript">
    window.onload = function()  {
        CKEDITOR.replace( 's' );
        CKEDITOR.replace( 'c' );
        CKEDITOR.replace( 'r' );
        CKEDITOR.replace( 'i' );
        CKEDITOR.replace( 'p' );
        CKEDITOR.replace( 't' );
        CKEDITOR.replace( 'se' );
    };
        </script>
    </head>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-0evHe/X+R7YkIZDRvuzKMRqM+OrBnVFBL6DOitfPri4tjfHxaWutUpFmBp4vmVor" crossorigin="anonymous">
</html>
<body style="background-color: rgba(0, 255, 225, 0.01)">
    <form class="container" action="">
            <center>
                <h2>Adicionar SCRIPT</h2>
            </center>

            <div class="row">
            <label for="titulo">Título</label>
            <input style="margin-rigth: 10px" type="text" name="titulo" id="titulo">
            </div>
        <br/>
        <div class="row">
            <div class="col-md-6">
            <div class="row">
            <label>CID-10</label>
            <input style="margin-rigth: 10px" type="text" class="col" name="capcid10" id="capcid10" placeholder="Letra">
            <input style="margin-rigth: 10px" type="text" class="col" name="catcid10" id="catcid10" placeholder="Número">.
            <input style="margin-rigth: 10px" type="text" class="col" name="subcatcid10" id="subcatcid10" placeholder="Subcategoria">
            </div>
            </div>
        
            <div class="col-md-6">
                <div class="row">
                <label>CID-11</label>
                <input style="margin-rigth: 10px" type="text" class="col" name="capcid10" id="capcid11" placeholder="Letra">
                <input style="margin-rigth: 10px" type="text" class="col" name="catcid10" id="catcid11" placeholder="Número">.
                <input style="margin-rigth: 10px" type="text" class="col" name="subcatcid10" id="subcatcid11" placeholder="Subcategoria">
                </div>
            </div>
        </div>
        <br/>

        <div class="row">
        <center>
        <label for="s">Sinais e Sintomas</label>
        <textarea style="width:100%" name="s" name="s" id="s"></textarea>
        </center>
        </div>

        <div class="row">
        <center>
        <label for="c">Começo e Curso</label>
        <textarea style="width:100%" name="c" name="c" id="c"></textarea>
        </center>
        </div>

        <div class="row">
        <center>
        <label for="r">Relações epidemiológicas</label>
        <textarea style="width:100%" name="r" name="r" id="r"></textarea>
        </center>
        </div>

        <div class="row">
        <center>
        <label for="i">Integração Fisiopatológica</label>
        <textarea style="width:100%" name="i" name="i" id="i"></textarea>
        </center>
        </div>

        <div class="row">
        <center>
        <label for="p">Prognóstico</label>
        <textarea style="width:100%" name="p" name="p" id="p"></textarea>
        </center>
        </div>

        <div class="row">
        <center>
        <label for="t">Tratamento</label>
        <textarea style="width:100%" name="t" name="t" id="t"></textarea>
        </center>
        </div>

        <div class="row">
        <label for="se">Seguimento</label>
        <center>
        <textarea style="width:100%" name="se" name="se" id="se"></textarea>
        </center>
        </div>

        <br/>

        <div href="#" class="btn btn-primary" id="concluir">Concluir</div>

    </form>
    </center>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-pprn3073KE6tl6bjs2QrFaJGz5/SUsLqktiwsUTF55Jfv3qYSDhgCecCxMW52nD2" crossorigin="anonymous"></script>
    
<script type="module">
        // Import the functions you need from the SDKs you need
        import { initializeApp } from "https://www.gstatic.com/firebasejs/9.8.2/firebase-app.js";
        import { getAnalytics } from "https://www.gstatic.com/firebasejs/9.8.2/firebase-analytics.js";
        import { getDatabase, ref, set, child, get} from "https://www.gstatic.com/firebasejs/9.8.2/firebase-database.js";
        // TODO: Add SDKs for Firebase products that you want to use
        // https://firebase.google.com/docs/web/setup#available-libraries
      
        // Your web app's Firebase configuration
        // For Firebase JS SDK v7.20.0 and later, measurementId is optional
        const firebaseConfig = {
          apiKey: "AIzaSyAUwq05l4mJTYwtz5HssQo78_oq5sHWPf8",
          authDomain: "scriptdedoencas.firebaseapp.com",
          databaseURL: "https://scriptdedoencas-default-rtdb.firebaseio.com/",
          projectId: "scriptdedoencas",
          storageBucket: "scriptdedoencas.appspot.com",
          messagingSenderId: "552741649829",
          appId: "1:552741649829:web:8545c77fa8f1768dd47c4c",
          measurementId: "G-Y9N66520ZT"
        };
      
        // Initialize Firebase
        const app = initializeApp(firebaseConfig);
        const analytics = getAnalytics(app);
        
        document.getElementById("concluir").onclick = function writeScript(){
        const db = getDatabase();
        set(ref(db, 'script/' + document.getElementById('capcid10').value + document.getElementById('catcid10').value + document.getElementById('subcatcid10').value + document.getElementById('titulo').value), {
        cid10cap: document.getElementById('capcid10').value,
        cid10cat: document.getElementById('catcid10').value,
        cid10subcat: document.getElementById('subcatcid10').value,
        cid11cap: document.getElementById('capcid11').value,
        cid11cat: document.getElementById('catcid11').value,
        cid11subcat: document.getElementById('subcatcid11').value,
        nome: document.getElementById('titulo').value,
        s: CKEDITOR.instances.s.getData(),
        c: CKEDITOR.instances.c.getData(),
        r: CKEDITOR.instances.r.getData(),
        i: CKEDITOR.instances.i.getData(),
        p: CKEDITOR.instances.p.getData(),
        t: CKEDITOR.instances.t.getData(),
        se: CKEDITOR.instances.se.getData()
        });
        }

        const dbRef = ref(getDatabase());
        get(child(dbRef, `script/`)).then((snapshot) => {
        if (snapshot.exists()) {
        console.log(snapshot.val());
        } else {
        console.log("No data available");
        }
        }).catch((error) => {
        console.error(error);
        });
</script>
</body>
</html>